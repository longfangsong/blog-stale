---
title: C++字符串处理入门（<string>）
date: 2017-10-17 00:00:00
tags: [新手级, C++]
mathjax: true
comments: true
summary: C++ string快速入门
---
<h1 id="C-字符串处理入门（-lt-string-gt-）"><a class="headerlink" href="#C-字符串处理入门（-lt-string-gt-）" title="C++字符串处理入门（&lt;string&gt;）"></a>C++字符串处理入门（<code>&lt;string&gt;</code>）</h1><p>（OJ上有好多字符串的题目啊……）</p>
 hexo-inject:begin  hexo-inject:end <p>（用C的字符数组好难做啊……）</p>
<p>（我们来用<code>string</code>吧！）</p>
<p>（别忘了<code>#include &lt;string&gt;</code>，记得是没有扩展名的<code>&lt;string&gt;</code>，而不是<code>&lt;string.h&gt;</code>！）</p>
<h2 id="string类"><a class="headerlink" href="#string类" title="string类"></a><code>string</code>类</h2><p><code>string</code>类就是C++中用来处理字符串的类，注意这个类一般来说只能用来处理ASCII字符构成的字符串，如果用它来处理包含中文字符或其他非ASCII字符的字符串，所造成的后果本人概不负责。</p>
<ol>
<li><p>构造一个<code>string</code></p>
<p>这非常简单，我们可以像构造一个基本类型的变量那样构造一个string:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> s; 					<span class="comment">// 一个里面啥都没有的string</span></span><br/><span class="line"><span class="built_in">string</span> s2 = <span class="string">"Hello world"</span>;  <span class="comment">// 和上面那个基本等效</span></span><br/><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">s1</span><span class="params">(<span class="string">"Hello world"</span>)</span></span>;	<span class="comment">// 一个里面内容是Hello world的string</span></span><br/></pre></td></tr></table></figure>
<p>当然也有一些其他的构造方法，请自行到官方文档查阅。</p>
</li>
<li><p>输入输出一个<code>string</code></p>
<p>常规地使用<code>&lt;&lt;</code>和<code>&gt;&gt;</code>运算符从<code>cin</code>/<code>cout</code>中读取一个string，注意读取在遇到空白字符（空格、制表符、换行等）时即停止。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> s;</span><br/><span class="line"><span class="built_in">cin</span> &gt;&gt; s;</span><br/><span class="line"><span class="built_in">cout</span> &lt;&lt; s;</span><br/></pre></td></tr></table></figure>
</li>
<li><p><code>string</code>可以直接用 <code>==</code>号判等，用<code>+</code>来拼接：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> a = <span class="string">"ABC"</span>;</span><br/><span class="line"><span class="built_in">string</span> b = <span class="string">"ABC"</span>;</span><br/><span class="line"><span class="built_in">string</span> c = <span class="string">"DE"</span>;</span><br/><span class="line">a == b <span class="comment">// true</span></span><br/><span class="line">a == c <span class="comment">// false</span></span><br/><span class="line">a + c  <span class="comment">// "ABCDE"</span></span><br/><span class="line">a += c <span class="comment">// a现在就是"ABCDE"</span></span><br/></pre></td></tr></table></figure>
</li>
<li><p><code>string</code>可以是一个合法STL容器！</p>
<p><code>string</code>在STL眼中非常类似<code>vector &lt;char&gt;</code>，你可以使用各种STL容器中常见的成员函数，也可以像C字符串那样使用<code>[]</code>来取出其中的字符：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/><span class="line">10</span><br/><span class="line">11</span><br/><span class="line">12</span><br/><span class="line">13</span><br/><span class="line">14</span><br/><span class="line">15</span><br/><span class="line">16</span><br/><span class="line">17</span><br/><span class="line">18</span><br/><span class="line">19</span><br/><span class="line">20</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> s=<span class="string">"ABCDE"</span>;</span><br/><span class="line">s.front() <span class="comment">// 'A'</span></span><br/><span class="line">s[<span class="number">0</span>]      <span class="comment">// 'A'</span></span><br/><span class="line">s[<span class="number">1</span>]	  <span class="comment">// 'B'</span></span><br/><span class="line">s.back()  <span class="comment">// 'E'</span></span><br/><span class="line">s.begin() <span class="comment">// 指向'A'的迭代器，忘记什么是迭代器了？请看我的文章《STL入门》</span></span><br/><span class="line">s.end()   <span class="comment">// 超尾迭代器</span></span><br/><span class="line">s.rbegin()<span class="comment">// 指向'E'的反向迭代器</span></span><br/><span class="line">s.rend()  <span class="comment">// 反向超尾迭代器</span></span><br/><span class="line"><span class="comment">// 一个把string反向输出的例子：</span></span><br/><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> it = s.rbegin();it != s.rend();++it) {</span><br/><span class="line">    <span class="built_in">cout</span> &lt;&lt; *it;</span><br/><span class="line">}</span><br/><span class="line"><span class="comment">// 输出EDCBA</span></span><br/><span class="line">s.size()  <span class="comment">// 返回s的大小，此例中为5</span></span><br/><span class="line">s.length()<span class="comment">// 同上</span></span><br/><span class="line">s.empty() <span class="comment">// 判断s是不是空串</span></span><br/><span class="line">s.clear() <span class="comment">// 等价于s=""</span></span><br/><span class="line">s.push_back(<span class="string">'F'</span>) <span class="comment">// 向s中增加一个'F'，s现在是 "ABCDEF"</span></span><br/><span class="line">s.append(<span class="string">"FG"</span>)   <span class="comment">// 向s中增加一个"FG"，s现在是 "ABCDEFFG"</span></span><br/></pre></td></tr></table></figure>
</li>
<li><p><code>string</code>专有内置函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/><span class="line">10</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> s = <span class="string">"ABCDEFFG"</span>;</span><br/><span class="line">s.find(<span class="string">"BCD"</span>)    <span class="comment">// 在字符串中搜索字符串，返回子字符串出现的位置，此例中返回1</span></span><br/><span class="line">s.find(<span class="string">"CD"</span>) 	 <span class="comment">// 查找子字符串的位置，返回2</span></span><br/><span class="line">s.find(<span class="string">"FGH"</span>)    <span class="comment">// 找不到，返回string::npos</span></span><br/><span class="line">s.find(<span class="string">"FGH"</span>) == <span class="built_in">string</span>::npos <span class="comment">//就是这样判定是否找到，此例为true</span></span><br/><span class="line"><span class="comment">// 还有一些find开头的成员函数和一些find的高级用法，请自行阅读文档</span></span><br/><span class="line">s.substr(<span class="number">2</span>)  	 <span class="comment">// 从第二个数开始到结尾的子字符串，CDEFFG</span></span><br/><span class="line">s.substr(<span class="number">0</span>,<span class="number">3</span>)    <span class="comment">// 从字符串第0个开始，长度为3的子字符串，ABC</span></span><br/><span class="line">s.replace(<span class="number">1</span>,<span class="number">3</span>,<span class="string">"HI"</span>) <span class="comment">// 将从字符串第1个开始，长度为3的子串替换为HI</span></span><br/><span class="line"><span class="comment">// s: "AHIEFFG"</span></span><br/></pre></td></tr></table></figure>
<h2 id="string-STL"><a class="headerlink" href="#string-STL" title="string + STL"></a><code>string</code> + STL</h2><p>由于<code>string</code>是合法STL容器的缘故，很多STL算法都能和<code>string</code>配合使用，如<code>find</code>、<code>sort</code>、<code>search</code>等等，这里演示一个用STL内置函数<code>reverse</code>来反转字符串的方法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> s = <span class="string">"ABCDE"</span>;</span><br/><span class="line">reverse(s.begin(),s.end());</span><br/><span class="line"><span class="comment">// s现在是ECDBA</span></span><br/></pre></td></tr></table></figure>
<p>其他使用方法见我的文章《STL入门》与官方文档。</p>
<p>​</p>
</li>
</ol>

